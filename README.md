# Super Dragon’s Lair Arcade (SNES)

Super Dragon’s Lair Arcade is a full-motion-video (FMV) retheme of RoadBlaster for the Super Nintendo Entertainment System, targeting real NTSC SNES hardware with MSU-1 audio/video on SD2SNES/FXPAK Pro.

## Recent milestones
- Documented the boot/title/score/MSU1 script flow with theming guidance in `src/README.md`.
- Trimmed legacy RoadBlaster XMLs and unused helpers; curated Dragon’s Lair chapter XMLs now live in `data/events/`.
- Audited backgrounds (`data/backgrounds/README.md`) and sprite prompts (`data/sprites/README.md`) so artists know which assets still need Dragon’s Lair replacements.
- Captured chapter-event coverage in `data/chapter_event_inventory.md` (516 chapters tracked; 0 markers still unmapped) to guide engine work.

## Scope and goals
- Recreate the Dragon’s Lair arcade experience on the SNES while retaining the RoadBlaster MSU-1 FMV engine.
- Replace all RoadBlaster assets with Dragon’s Lair equivalents (video, audio, sprites, UI, prompts) while preserving arcade timings and cues.
- Produce a fully playable SNES ROM plus MSU-1 PCM/data set for real hardware.

## Build at a glance
**Requirements:** Linux/WSL, `make`, WLA-DX 9.5a, Python 3 for the helper tools, and `snesbrr` if you need SPC assets.

**Quick build:**
```bash
make clean
make
```
Outputs land in `bin/`. MSU-1 PCM/data files are not generated by default; copy them from an existing release or re-enable the conversion steps in `tools/` once you provide Dragon’s Lair captures.

## Asset pipeline snapshot
- **FMV sequences:** Chapter scripts exist per scene in `data/events/`; frame conversion/MSU-1 packaging remain gated on supplied video/audio.
- **PCM audio:** Planned—generate MSU-1 PCM once Dragon’s Lair audio is extracted and normalized.
- **Backgrounds:** In progress—replace remaining RoadBlaster captures called out in `data/backgrounds/README.md` (title, high score, level-complete, score entry).
- **HUD/UI and sprites:** In progress—prompts and overlays still reference RoadBlaster cues; sprite replacements should follow `data/sprites/README.md`.
- **Scene scripts:** In progress—event coverage is inventoried; most event object types still need implementations for the remaining unmapped markers.
- **Build system:** ✅ Stable—`make` builds the ROM; MSU packing is available once assets are supplied.

## Documentation map
- `src/README.md` – Boot/title/score/MSU1 script overview and theming notes.
- `data/events/README.md` – Curated Dragon’s Lair chapter XML reference.
- `data/backgrounds/README.md` – Background audit and replacement guidance.
- `data/sprites/README.md` – Sprite prompt inventory and theming guidance.
- `data/chapter_event_inventory.md` – Chapter-by-chapter event coverage and gaps.
- `tools/README.md` – Python tooling notes and converter usage (image, tile, XML, PCM).

## Hardware targets
- NTSC Super Nintendo hardware
- SD2SNES / FXPAK Pro (MSU-1 required)
- SNES9x / bsnes for debugging and iteration

## Next steps
- Replace the RoadBlaster-derived backgrounds highlighted in `data/backgrounds/README.md` and align palettes/tiling for SNES constraints.
- Prepare Dragon’s Lair PCM audio and MSU video frames, then re-enable MSU packaging via `xmlsceneparser.py` → `gracon.py` → `animationWriter.py`/`msu1blockwriter.py`.
- Implement and test the mapped chapter events, verifying behavior against the original arcade game.
- Refresh HUD/prompt sprites to match Dragon’s Lair iconography and retire unused racing cues (`turbo`, `brake`, steering wheel assets).

## License
This project includes no commercial Dragon’s Lair assets. All extracted assets must be supplied by the user. This repository contains engine code and converter tools only.
